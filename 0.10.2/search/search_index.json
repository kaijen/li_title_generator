{"config":{"lang":["de"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"Title Image Service","text":"<p>FastAPI-Webservice zum Erzeugen von 16:9-Titelbildern (PNG) aus JSON-Parametern \u2013 z. B. f\u00fcr LinkedIn-Posts oder Pr\u00e4sentationsfolien.</p>"},{"location":"#was-kann-der-service","title":"Was kann der Service?","text":"<ul> <li>Generiert 16:9-PNG-Bilder aus einfachem JSON-Request</li> <li>Flexibler Font-Support via Google Fonts (automatischer Download und Cache)</li> <li>Farbangaben als englischer Name, Hex-Code oder deutschsprachige Aliase</li> <li>API-Key-Authentifizierung mit Hot-Reload (kein Neustart bei Key-\u00c4nderungen)</li> <li>Docker-ready mit Compose-Overlays f\u00fcr Traefik und mTLS</li> </ul>"},{"location":"#einstieg","title":"Einstieg","text":"<p>Neu hier? \u2192 Schnellstart</p>"},{"location":"#dokumentation-im-uberblick","title":"Dokumentation im \u00dcberblick","text":"Abschnitt Inhalt Schnellstart Erstes Bild in wenigen Schritten Installation Docker Compose, Traefik, lokale Entwicklung Nutzung Parameter, Farben, Fonts, Client-Beispiele API-Referenz Endpunkte, Request/Response-Schemas, HTTP-Codes Konfiguration Alle Umgebungsvariablen"},{"location":"api-reference/","title":"API-Referenz","text":"<p>Basis-URL: <code>http://localhost:8000</code> (Standard-Port; konfigurierbar via <code>PORT</code>)</p> <p>Interaktive Swagger-UI: <code>/docs</code></p>"},{"location":"api-reference/#post-generate","title":"POST /generate","text":"<p>Erzeugt ein 16:9-PNG-Bild und gibt es als Datei zur\u00fcck.</p> <p>Authentifizierung: abh\u00e4ngig von der Serverkonfiguration (siehe Konfiguration)</p> <p>Sind Keys konfiguriert (mindestens ein Eintrag in <code>api_keys.json</code>), ist der <code>X-API-Key</code>-Header immer erforderlich \u2013 unabh\u00e4ngig von <code>HOST</code>.</p> <p>Sind keine Keys konfiguriert (<code>api_keys.json</code> fehlt oder ist leer):</p> Situation Auth erforderlich <code>HOST=127.0.0.1</code> (Loopback, Standard) Nein \u2013 automatisch erlaubt <code>HOST=0.0.0.0</code> + <code>ALLOW_UNAUTHENTICATED=true</code> Nein \u2013 nur f\u00fcr Entwicklung <code>HOST=0.0.0.0</code> Ja \u2192 401"},{"location":"api-reference/#request","title":"Request","text":"<p>Header:</p> Header Pflicht Wert <code>X-API-Key</code> Nein / Ja* API-Key aus <code>api_keys.json</code> <code>Content-Type</code> Ja <code>application/json</code> <p>*Pflicht wenn <code>HOST=0.0.0.0</code> und <code>ALLOW_UNAUTHENTICATED</code> nicht gesetzt.</p> <p>Body: JSON-Objekt \u2013 alle Felder optional. Siehe Parameter.</p>"},{"location":"api-reference/#response","title":"Response","text":"Status Beschreibung <code>200 OK</code> PNG-Bilddaten (<code>Content-Type: image/png</code>) <code>401 Unauthorized</code> Fehlender oder ung\u00fcltiger API-Key <code>422 Unprocessable Entity</code> Ung\u00fcltige Parameter (z. B. unbekannte Farbe, ung\u00fcltiger Dateiname) <code>500 Internal Server Error</code> Interner Fehler (z. B. Font nicht abrufbar) <p>Der <code>Content-Disposition</code>-Header enth\u00e4lt den Dateinamen:</p> <pre><code>Content-Disposition: attachment; filename=\"nis2-slide.png\"\n</code></pre>"},{"location":"api-reference/#get-health","title":"GET /health","text":"<p>Healthcheck-Endpunkt. Keine Authentifizierung erforderlich.</p>"},{"location":"api-reference/#response_1","title":"Response","text":"<pre><code>{ \"status\": \"ok\" }\n</code></pre>"},{"location":"api-reference/#get","title":"GET /","text":"<p>Service-Info. Keine Authentifizierung erforderlich.</p>"},{"location":"api-reference/#response_2","title":"Response","text":"<pre><code>{ \"service\": \"title-image-service\", \"docs\": \"/docs\" }\n</code></pre>"},{"location":"configuration/","title":"Konfiguration","text":"<p>Der Service wird vollst\u00e4ndig \u00fcber Umgebungsvariablen konfiguriert. Keine Konfigurationsdatei erforderlich.</p>"},{"location":"configuration/#umgebungsvariablen","title":"Umgebungsvariablen","text":"Variable Default Beschreibung <code>HOST</code> <code>127.0.0.1</code> Bind-Adresse von Uvicorn. <code>127.0.0.1</code> erlaubt automatisch offenen Zugriff ohne API-Keys. <code>PORT</code> <code>8000</code> HTTP-Port des Servers <code>API_KEYS_FILE</code> <code>./api_keys.json</code> Pfad zur API-Keys-Datei; wird bei jedem Request neu eingelesen <code>ALLOW_UNAUTHENTICATED</code> <code>false</code> Auf <code>true</code> setzen, um offenen Zugriff auf <code>0.0.0.0</code> ohne API-Key zu erlauben (nur f\u00fcr Entwicklung) <code>FONT_CACHE_DIR</code> <code>~/.cache/title-image-fonts</code> Verzeichnis f\u00fcr heruntergeladene Google-Fonts <code>LOG_LEVEL</code> <code>INFO</code> Log-Level f\u00fcr Python-Logging (<code>DEBUG</code>, <code>INFO</code>, <code>WARNING</code>, <code>ERROR</code>)"},{"location":"configuration/#authentifizierungsverhalten","title":"Authentifizierungsverhalten","text":"<p>Das Verhalten h\u00e4ngt davon ab, ob Keys konfiguriert sind und wo der Service lauscht.</p> <p>Keys konfiguriert (mindestens ein Eintrag in <code>api_keys.json</code>):</p> <p><code>X-API-Key</code> muss immer einem Eintrag entsprechen \u2013 unabh\u00e4ngig von <code>HOST</code> und <code>ALLOW_UNAUTHENTICATED</code>.</p> <p>Keine Keys konfiguriert (<code>api_keys.json</code> fehlt, leer oder nicht lesbar):</p> <code>HOST</code> <code>ALLOW_UNAUTHENTICATED</code> Verhalten <code>127.0.0.1</code> (Default) beliebig Offener Zugriff automatisch erlaubt <code>0.0.0.0</code> <code>true</code> Offener Zugriff \u2013 nur f\u00fcr Entwicklung <code>0.0.0.0</code> <code>false</code> (Default) Jeder Request \u2192 401"},{"location":"configuration/#api-keys-verwalten","title":"API-Keys verwalten","text":"<p>Keys werden in <code>api_keys.json</code> gepflegt:</p> <pre><code>{\n  \"keys\": [\n    \"sk-abc123\",\n    \"sk-xyz789\"\n  ]\n}\n</code></pre> <p>Die Datei wird bei jedem Request neu eingelesen \u2013 Keys k\u00f6nnen ohne Service-Neustart hinzugef\u00fcgt oder entfernt werden.</p>"},{"location":"configuration/#im-docker-container","title":"Im Docker-Container","text":"<p>In <code>deploy/compose.yml</code> werden die Variablen \u00fcber die <code>environment</code>-Sektion oder eine <code>.env</code>-Datei gesetzt. Die <code>api_keys.json</code> wird als Read-only-Volume gemountet \u2013 nie ins Image kopiert.</p> <p>Vollst\u00e4ndige Beispiel-Konfiguration: <code>deploy/.env.sample</code></p>"},{"location":"getting-started/","title":"Schnellstart","text":"<p>Erstes Titelbild in vier Schritten.</p>"},{"location":"getting-started/#voraussetzungen","title":"Voraussetzungen","text":"<ul> <li>Docker und Docker Compose \u2265 2.x</li> </ul>"},{"location":"getting-started/#1-konfiguration-einrichten","title":"1. Konfiguration einrichten","text":"<pre><code>cd deploy\ncp .env.sample .env\ncp api_keys.json.sample api_keys.json\n</code></pre> <p>In <code>api_keys.json</code> eigene API-Keys eintragen und in <code>.env</code> das gew\u00fcnschte <code>IMAGE_TAG</code> setzen.</p>"},{"location":"getting-started/#2-service-starten","title":"2. Service starten","text":"<pre><code>docker compose up -d\n</code></pre> <p>Der Service ist danach unter <code>http://localhost:8000</code> erreichbar.</p>"},{"location":"getting-started/#3-erstes-bild-erzeugen","title":"3. Erstes Bild erzeugen","text":"<pre><code>curl -X POST http://localhost:8000/generate \\\n  -H \"X-API-Key: sk-abc123\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"titel\": \"Hallo Welt\", \"breite\": 1920}' \\\n  --output titel.png\n</code></pre> <p>Das erzeugt eine Datei <code>titel.png</code> im aktuellen Verzeichnis.</p>"},{"location":"getting-started/#4-interaktive-api-doku","title":"4. Interaktive API-Doku","text":"<p>Die Swagger-UI \u00f6ffnet sich unter:</p> <pre><code>http://localhost:8000/docs\n</code></pre>"},{"location":"getting-started/#nachste-schritte","title":"N\u00e4chste Schritte","text":"<ul> <li>Alle Parameter kennenlernen</li> <li>Farben und Fonts anpassen</li> <li>Traefik-Integration einrichten</li> </ul>"},{"location":"installation/","title":"Installation \u2013 \u00dcbersicht","text":"<p>Der Service l\u00e4sst sich auf drei Wegen betreiben:</p> Weg Geeignet f\u00fcr Docker Compose Produktion, empfohlener Standardweg Traefik-Overlay Produktion hinter Traefik-Reverse-Proxy Lokale Entwicklung Entwicklung, Tests, Anpassungen am Code"},{"location":"installation/#voraussetzungen","title":"Voraussetzungen","text":"<ul> <li>Docker \u2265 24.x und Docker Compose \u2265 2.x</li> <li>F\u00fcr lokale Entwicklung: Python \u2265 3.11 und <code>just</code></li> </ul>"},{"location":"installation/docker-compose/","title":"Installation mit Docker Compose","text":"<p>Empfohlener Weg f\u00fcr den Produktivbetrieb.</p>"},{"location":"installation/docker-compose/#einmalig-einrichten","title":"Einmalig einrichten","text":"<pre><code>cd deploy\ncp .env.sample .env\ncp api_keys.json.sample api_keys.json\n</code></pre> <p>Anpassen:</p> <ul> <li><code>.env</code> \u2013 <code>IMAGE_TAG</code> auf die gew\u00fcnschte Version setzen</li> <li><code>api_keys.json</code> \u2013 eigene API-Keys eintragen (Format: <code>{\"keys\": [\"sk-abc123\"]}</code>)</li> </ul>"},{"location":"installation/docker-compose/#starten","title":"Starten","text":"<pre><code>cd deploy\ndocker compose up -d\n</code></pre>"},{"location":"installation/docker-compose/#stoppen-aktualisieren","title":"Stoppen / Aktualisieren","text":"<pre><code># Stoppen\ndocker compose down\n\n# Image aktualisieren und neu starten\ndocker compose pull\ndocker compose up -d\n</code></pre>"},{"location":"installation/docker-compose/#instanzspezifische-anpassungen","title":"Instanzspezifische Anpassungen","text":"<p>Erweiterungen (Resource-Limits, Log-Treiber, \u2026) kommen als lokales Overlay <code>deploy/compose.override.yml</code> (nicht versioniert):</p> <pre><code># deploy/compose.override.yml\nservices:\n  title-image-prod:\n    deploy:\n      resources:\n        limits:\n          memory: 512m\n    logging:\n      driver: journald\n</code></pre> <pre><code># COMPOSE_FILE=compose.yml:compose.override.yml in deploy/.env setzen\ndocker compose up -d\n</code></pre>"},{"location":"installation/docker-compose/#konfigurierbare-variablen","title":"Konfigurierbare Variablen","text":"<p>Alle Variablen in <code>deploy/.env.sample</code> sind dokumentiert. Die wichtigsten:</p> Variable Beispiel Beschreibung <code>IMAGE_TAG</code> <code>1.2.0</code> Image-Version aus ghcr.io <code>PORT</code> <code>8000</code> Externer HTTP-Port <code>CONTAINER_NAME</code> <code>title-image</code> Docker-Container-Name <p>Vollst\u00e4ndige Liste \u2192 Konfiguration</p>"},{"location":"installation/local-dev/","title":"Lokale Entwicklung","text":""},{"location":"installation/local-dev/#mit-just-empfohlen","title":"Mit just (empfohlen)","text":"<p><code>just dev</code> baut das Image direkt aus dem Quellcode und startet es auf Port 8001 mit deaktivierter Authentifizierung.</p> <p>Voraussetzung: <code>just</code> installieren:</p> <pre><code>winget install Casey.Just   # Windows\nbrew install just            # macOS / Linux\n</code></pre> <pre><code>just dev\n</code></pre> <p>Der Service l\u00e4uft dann auf <code>http://localhost:8001</code>.</p>"},{"location":"installation/local-dev/#ohne-docker-pip","title":"Ohne Docker (pip)","text":"<p>Voraussetzung: Python \u2265 3.11</p> <pre><code># Paket inkl. Entwicklungsabh\u00e4ngigkeiten installieren\npip install -e \".[dev]\"\n\n# Service starten (bindet auf localhost \u2013 kein API-Key erforderlich)\ntitle-image-service\n</code></pre> <p>Der Service lauscht auf <code>http://localhost:8000</code>.</p>"},{"location":"installation/local-dev/#tests-ausfuhren","title":"Tests ausf\u00fchren","text":"<pre><code>pytest          # alle Tests\npytest -v       # mit ausf\u00fchrlicher Ausgabe\n</code></pre>"},{"location":"installation/local-dev/#verfugbare-just-befehle","title":"Verf\u00fcgbare just-Befehle","text":"Befehl Beschreibung <code>just checkenv</code> Build-Umgebung pr\u00fcfen (Python, git, hatch, docker) <code>just version</code> Aktuelle Version ausgeben <code>just install</code> Dev-Abh\u00e4ngigkeiten installieren <code>just dev</code> Dev-Image bauen und starten (Port 8001, kein Auth) <code>just wheel</code> Python-Wheel und Source-Distribution bauen <code>just build</code> Docker-Image lokal bauen und taggen <code>just push</code> Image mit SBOM-Attestation zu ghcr.io pushen <code>just export</code> Docker-Image als <code>.tar.gz</code> exportieren <code>just sbom</code> SBOM aus gepushtem Image erzeugen <code>just docs</code> Docs lokal unter http://127.0.0.1:8000 vorschauen <code>just docs-build</code> Statische Docs nach <code>site/</code> bauen"},{"location":"installation/traefik/","title":"Traefik-Integration","text":"<p>F\u00fcr den Betrieb hinter einem bestehenden Traefik-Container steht ein Compose-Overlay bereit.</p>"},{"location":"installation/traefik/#einrichten","title":"Einrichten","text":"<p>In <code>deploy/.env</code> setzen:</p> <pre><code>COMPOSE_FILE=compose.yml:compose.traefik.yml\nTRAEFIK_HOST=title-image.example.com\nTRAEFIK_NETWORK=traefik\nTRAEFIK_ENTRYPOINT=websecure\nTRAEFIK_CERTRESOLVER=letsencrypt\n</code></pre> <p>Dann starten:</p> <pre><code>cd deploy\ndocker compose up -d\n</code></pre> <p>Das Overlay deaktiviert das direkte Port-Binding aus <code>compose.yml</code> und verbindet den Container mit dem externen Traefik-Netzwerk.</p>"},{"location":"installation/traefik/#konfigurierbare-variablen","title":"Konfigurierbare Variablen","text":"Variable Beispiel Beschreibung <code>TRAEFIK_HOST</code> <code>title-image.example.com</code> \u00d6ffentlicher Hostname <code>TRAEFIK_NETWORK</code> <code>traefik</code> Externes Docker-Netzwerk <code>TRAEFIK_ENTRYPOINT</code> <code>websecure</code> Traefik-Entrypoint <code>TRAEFIK_CERTRESOLVER</code> <code>letsencrypt</code> Certificate-Resolver"},{"location":"installation/traefik/#client-zertifikat-authentifizierung-mtls","title":"Client-Zertifikat-Authentifizierung (mTLS)","text":"<p>Traefik kann zus\u00e4tzlich ein TLS-Client-Zertifikat erzwingen.</p>"},{"location":"installation/traefik/#1-traefik-seitige-tls-option-anlegen","title":"1. Traefik-seitige TLS-Option anlegen","text":"<p><code>deploy/traefik-mtls-options.yml.sample</code> in den dynamic-config-Pfad von Traefik kopieren (z. B. <code>/etc/traefik/dynamic/mtls.yml</code>) und die CA-Datei eintragen:</p> <pre><code>tls:\n  options:\n    mtls:\n      minVersion: VersionTLS12\n      clientAuth:\n        caFiles:\n          - /etc/traefik/certs/client-ca.pem\n        clientAuthType: RequireAndVerifyClientCert\n</code></pre>"},{"location":"installation/traefik/#2-mtls-labels-in-composetraefikyml-aktivieren","title":"2. mTLS-Labels in compose.traefik.yml aktivieren","text":"<p>Den auskommentierten mTLS-Block in <code>deploy/compose.traefik.yml</code> einkommentieren.</p>"},{"location":"installation/traefik/#weitergeleitete-headers","title":"Weitergeleitete Headers","text":"Header Inhalt <code>X-Forwarded-Tls-Client-Cert-Info</code> URL-kodierte Zertifikats-Attribute (Subject, Issuer, SANs, G\u00fcltigkeit) <code>X-Forwarded-Tls-Client-Cert</code> Vollst\u00e4ndiges PEM-Zertifikat URL-kodiert (nur wenn <code>pem=true</code>)"},{"location":"installation/traefik/#request-mit-client-zertifikat-curl","title":"Request mit Client-Zertifikat (curl)","text":"<pre><code># Selbstsigniertes Client-Zertifikat erzeugen (einmalig)\nopenssl req -x509 -newkey rsa:4096 -keyout client.key -out client.crt \\\n  -days 365 -nodes \\\n  -subj \"/CN=my-client/O=Meine Organisation\"\n\n# Request mit Client-Zertifikat\ncurl -X POST https://title-image.example.com/generate \\\n  --cert client.crt \\\n  --key client.key \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"titel\": \"NIS2 Compliance\", \"breite\": 1920}' \\\n  --output nis2-slide.png\n</code></pre> <p>mTLS + API-Key kombinieren</p> <p>Bei aktiviertem mTLS kann <code>api_keys.json</code> weggelassen werden, wenn <code>ALLOW_UNAUTHENTICATED=true</code> gesetzt ist \u2013 dann reicht das Client-Zertifikat als einzige Authentifizierung. Beide Methoden lassen sich auch kombinieren.</p>"},{"location":"usage/","title":"Nutzung \u2013 \u00dcbersicht","text":""},{"location":"usage/#erstes-bild-erzeugen","title":"Erstes Bild erzeugen","text":"<pre><code>curl -X POST http://localhost:8000/generate \\\n  -H \"X-API-Key: sk-abc123\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"titel\": \"NIS2 Compliance\",\n    \"text\": \"Umsetzung in der Praxis\",\n    \"hintergrund\": \"#1a1a2e\",\n    \"vordergrund\": \"white\",\n    \"breite\": 1920,\n    \"titelzeilen\": 2,\n    \"dateiname\": \"nis2-slide.png\"\n  }' \\\n  --output nis2-slide.png\n</code></pre>"},{"location":"usage/#weiterfuhrende-themen","title":"Weiterf\u00fchrende Themen","text":"<ul> <li>Parameter \u2013 alle Request-Felder im Detail</li> <li>Farben \u2013 Hex, CSS-Namen, deutsche Aliase</li> <li>Fonts \u2013 verf\u00fcgbare Schriften, Cache, eigene Fonts</li> <li>Client-Beispiele \u2013 curl, PowerShell, Python</li> </ul>"},{"location":"usage/clients/","title":"Client-Beispiele","text":""},{"location":"usage/clients/#curl","title":"curl","text":"<pre><code># Mit explizitem Dateinamen\ncurl -X POST http://localhost:8000/generate \\\n  -H \"X-API-Key: sk-abc123\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"titel\": \"NIS2 Compliance\",\n    \"text\": \"Umsetzung in der Praxis\",\n    \"hintergrund\": \"#1a1a2e\",\n    \"vordergrund\": \"white\",\n    \"breite\": 1920,\n    \"titelzeilen\": 2,\n    \"dateiname\": \"nis2-slide.png\"\n  }' \\\n  --output nis2-slide.png\n\n# Automatischer Dateiname aus Content-Disposition-Header\ncurl -X POST http://localhost:8000/generate \\\n  -H \"X-API-Key: sk-abc123\" \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"titel\": \"NIS2 Compliance\", \"breite\": 1920}' \\\n  -OJ\n</code></pre>"},{"location":"usage/clients/#powershell","title":"PowerShell","text":"<p>Das Skript <code>scripts/New-TitleImage.ps1</code> stellt die Funktion <code>New-TitleImage</code> bereit.</p>"},{"location":"usage/clients/#einbinden","title":"Einbinden","text":"<pre><code># Einmalig f\u00fcr die aktuelle Session (dot-sourcing)\n. .\\scripts\\New-TitleImage.ps1\n\n# Dauerhaft ins PowerShell-Profil eintragen\nAdd-Content $PROFILE \". $(Resolve-Path .\\scripts\\New-TitleImage.ps1)\"\n</code></pre>"},{"location":"usage/clients/#konfiguration","title":"Konfiguration","text":"<p>URL und API-Key werden automatisch aus einer <code>.env</code>-Datei im aktuellen Verzeichnis gelesen.</p> <p>Beispiel <code>.env</code>:</p> <pre><code>TITLE_IMAGE_SERVICE_URL=https://title-image.example.com\nTITLE_IMAGE_API_KEY=sk-abc123\n</code></pre> <p>Priorit\u00e4t der Konfiguration (h\u00f6chste zuerst):</p> Einstellung Parameter Umgebungsvariable <code>.env</code>-Eintrag Default URL <code>-Url</code> <code>TITLE_IMAGE_SERVICE_URL</code> <code>TITLE_IMAGE_SERVICE_URL</code> <code>http://localhost:8000</code> API-Key <code>-ApiKey</code> <code>TITLE_IMAGE_API_KEY</code> <code>TITLE_IMAGE_API_KEY</code> \u2013 PFX-Datei <code>-CertPfx</code> <code>TITLE_IMAGE_CERT_PFX</code> <code>TITLE_IMAGE_CERT_PFX</code> \u2013 PFX-Passwort <code>-CertPfxPass</code> <code>TITLE_IMAGE_CERT_PFX_PASS</code> <code>TITLE_IMAGE_CERT_PFX_PASS</code> \u2013 Thumbprint <code>-CertThumbprint</code> <code>TITLE_IMAGE_CERT_THUMBPRINT</code> <code>TITLE_IMAGE_CERT_THUMBPRINT</code> \u2013"},{"location":"usage/clients/#beispiele","title":"Beispiele","text":"<pre><code># URL und API-Key aus .env\nNew-TitleImage -Titel \"NIS2 Compliance\" -Breite 1920\n\n# Alle Parameter explizit\nNew-TitleImage `\n    -Url         \"http://localhost:8000\" `\n    -ApiKey      \"sk-abc123\" `\n    -Titel       \"NIS2 Compliance\" `\n    -Text        \"Umsetzung in der Praxis\" `\n    -Hintergrund \"#1a1a2e\" `\n    -Vordergrund \"white\" `\n    -Breite      1920 `\n    -Titelzeilen 2 `\n    -Dateiname   \"nis2-slide.png\"\n\n# Kurzform mit Aliases\nNew-TitleImage -t \"NIS2 Compliance\" -b 1920 -z 2 -f \"Fira Code\"\n\n# Montagspost (Font = \"Barriecito\", Text = \"Ein Montagspost\")\nNew-TitleImage -Titel \"Montag, der Motivator\" -m\n\n# Anti-Pattern (Font = \"Rubik Glitch\", Text = \"Ein Anti-Pattern\")\nNew-TitleImage -Titel \"God Object\" -a\n\n# Mit Client-Zertifikat (PFX)\nNew-TitleImage -t \"NIS2 Compliance\" -b 1920 `\n    -CertPfx \"C:\\certs\\client.pfx\" -CertPfxPass \"geheim\"\n\n# Mit Client-Zertifikat aus Windows-Zertifikatspeicher\nNew-TitleImage -t \"NIS2 Compliance\" -b 1920 `\n    -CertThumbprint \"A1B2C3D4E5F6A1B2C3D4E5F6A1B2C3D4E5F6A1B2\"\n</code></pre>"},{"location":"usage/clients/#python","title":"Python","text":"<pre><code>import httpx\n\nresponse = httpx.post(\n    \"http://localhost:8000/generate\",\n    headers={\"X-API-Key\": \"sk-abc123\"},\n    json={\n        \"titel\": \"NIS2 Compliance\",\n        \"text\": \"Umsetzung in der Praxis\",\n        \"hintergrund\": \"#1a1a2e\",\n        \"vordergrund\": \"white\",\n        \"breite\": 1920,\n        \"titelzeilen\": 2,\n    },\n)\nresponse.raise_for_status()\n\nwith open(\"nis2-slide.png\", \"wb\") as f:\n    f.write(response.content)\n</code></pre>"},{"location":"usage/colors/","title":"Farben","text":"<p>Farben k\u00f6nnen in drei Formaten angegeben werden:</p>"},{"location":"usage/colors/#formate","title":"Formate","text":"Format Beispiele Englischer CSS-Name <code>\"white\"</code>, <code>\"black\"</code>, <code>\"red\"</code>, <code>\"navy\"</code> Hex-Code <code>\"#1a1a2e\"</code>, <code>\"#fff\"</code> Deutsches Alias <code>\"schwarz\"</code>, <code>\"wei\u00df\"</code>, <code>\"rot\"</code>"},{"location":"usage/colors/#deutsche-farbaliase","title":"Deutsche Farbaliase","text":"Deutsch Pillow-Name <code>schwarz</code> <code>black</code> <code>wei\u00df</code>, <code>weiss</code> <code>white</code> <code>rot</code> <code>red</code> <code>gr\u00fcn</code>, <code>gruen</code> <code>green</code> <code>blau</code> <code>blue</code> <code>gelb</code> <code>yellow</code> <code>orange</code> <code>orange</code> <code>lila</code> <code>purple</code> <code>violett</code> <code>violet</code> <code>pink</code> <code>pink</code> <code>grau</code> <code>gray</code> <code>braun</code> <code>brown</code> <code>t\u00fcrkis</code>, <code>tuerkis</code> <code>cyan</code> <code>silber</code> <code>silver</code> <code>gold</code> <code>gold</code>"},{"location":"usage/colors/#fehlerverhalten","title":"Fehlerverhalten","text":"<p>Eine ung\u00fcltige Farbe (Name nicht erkennbar, ung\u00fcltiger Hex-Code) f\u00fchrt zu <code>HTTP 422 Unprocessable Entity</code> mit einer beschreibenden Fehlermeldung.</p>"},{"location":"usage/colors/#beispiele","title":"Beispiele","text":"<pre><code>{ \"hintergrund\": \"#1a1a2e\", \"vordergrund\": \"white\" }\n{ \"hintergrund\": \"schwarz\", \"vordergrund\": \"wei\u00df\" }\n{ \"hintergrund\": \"navy\",    \"vordergrund\": \"gold\" }\n</code></pre>"},{"location":"usage/fonts/","title":"Fonts","text":""},{"location":"usage/fonts/#funktionsweise","title":"Funktionsweise","text":"<p>Der Service l\u00e4dt Fonts automatisch von Google Fonts herunter und speichert sie in einem lokalen Cache-Verzeichnis. Bei nachfolgenden Requests wird der Cache verwendet \u2013 kein erneuter Download n\u00f6tig.</p>"},{"location":"usage/fonts/#font-angeben","title":"Font angeben","text":"<p>Im Request-Body den <code>font</code>-Parameter auf den exakten Google-Fonts-Namen setzen:</p> <pre><code>{ \"titel\": \"Hallo Welt\", \"font\": \"Fira Code\" }\n</code></pre> <p>Gro\u00df-/Kleinschreibung muss dem Google-Fonts-Namen entsprechen.</p>"},{"location":"usage/fonts/#vorinstallierte-fonts","title":"Vorinstallierte Fonts","text":"<p>Folgende Fonts werden beim Docker-Build vorinstalliert (via <code>scripts/install_fonts.py</code>):</p> Font Verwendung Rubik Glitch Standard-Font (<code>font</code>-Default) JetBrains Mono Monospace / Code-Slides Fira Code Monospace / Code-Slides Libertinus Mono Monospace / Serifenbetont"},{"location":"usage/fonts/#cache-verzeichnis","title":"Cache-Verzeichnis","text":"Umgebungsvariable Default <code>FONT_CACHE_DIR</code> <code>~/.cache/title-image-fonts</code> <p>Im Docker-Container ist der Cache im Image vorgebaut. Das Verzeichnis kann \u00fcber ein Volume persistiert werden, um Downloads nach Container-Neustarts zu vermeiden.</p>"},{"location":"usage/fonts/#fehlerverhalten","title":"Fehlerverhalten","text":"<p>Ist ein Font weder im Cache noch \u00fcber Google Fonts abrufbar, greift der Service auf System-Fonts (via <code>fc-match</code>) zur\u00fcck. Sind auch keine System-Fonts vorhanden, wird der eingebaute PIL-Standardfont verwendet \u2013 der Request schl\u00e4gt nicht fehl, das Bild wird mit dem Fallback-Font gerendert.</p>"},{"location":"usage/parameters/","title":"Parameter","text":"<p>Alle Felder des Request-Body sind optional und haben sinnvolle Standardwerte.</p>"},{"location":"usage/parameters/#ubersicht","title":"\u00dcbersicht","text":"Feld Typ Default Beschreibung <code>titel</code> string <code>\"\"</code> Titelzeile(n); wird bei <code>titelzeilen &gt; 1</code> auf mehrere Zeilen aufgeteilt <code>text</code> string <code>\"\"</code> Untertitel oder Flie\u00dftext unterhalb des Titels <code>vordergrund</code> string <code>\"white\"</code> Schriftfarbe \u2013 englischer Name, Hex oder deutsches Alias <code>hintergrund</code> string <code>\"black\"</code> Hintergrundfarbe \u2013 englischer Name, Hex oder deutsches Alias <code>breite</code> int <code>1024</code> Bildbreite in Pixeln; die H\u00f6he wird automatisch als 9/16 \u00d7 Breite berechnet <code>font</code> string <code>\"Rubik Glitch\"</code> Google-Fonts-Name oder Systemfont-Name <code>titelzeilen</code> int <code>1</code> Anzahl Zeilen, auf die der Titel aufgeteilt wird <code>dateiname</code> string <code>\"\"</code> Dateiname im <code>Content-Disposition</code>-Header; leer \u2192 automatisch generiert"},{"location":"usage/parameters/#details","title":"Details","text":""},{"location":"usage/parameters/#titel-und-titelzeilen","title":"<code>titel</code> und <code>titelzeilen</code>","text":"<p><code>titelzeilen</code> steuert, wie viele Zeilen der Titel einnehmen darf. Der Text wird automatisch umgebrochen. Bei <code>titelzeilen: 2</code> wird der Titel z. B. auf zwei m\u00f6glichst gleich lange Zeilen aufgeteilt.</p> <pre><code>{\n  \"titel\": \"Sehr langer Titel der auf zwei Zeilen passt\",\n  \"titelzeilen\": 2\n}\n</code></pre>"},{"location":"usage/parameters/#dateiname","title":"<code>dateiname</code>","text":"<p>Erlaubte Zeichen: alphanumerisch, <code>.</code>, <code>-</code>, <code>_</code>; maximal 128 Zeichen.</p> <p>Wird kein Dateiname angegeben, generiert der Service automatisch einen Namen nach dem Schema <code>linkedin_title_YYYY-MM-DD-HH-mm.png</code>.</p>"},{"location":"usage/parameters/#breite","title":"<code>breite</code>","text":"<p>Empfohlene Werte:</p> Verwendungszweck Breite LinkedIn-Post <code>1920</code> Pr\u00e4sentationsfolie (Full HD) <code>1920</code> Vorschau / Test <code>1024</code>"},{"location":"usage/parameters/#farben","title":"Farben","text":"<p>Siehe Farben f\u00fcr alle unterst\u00fctzten Formate und deutschen Aliase.</p>"},{"location":"usage/parameters/#fonts","title":"Fonts","text":"<p>Siehe Fonts f\u00fcr den Font-Cache und eigene Schriften.</p>"},{"location":"usage/parameters/#beispiele","title":"Beispiele","text":""},{"location":"usage/parameters/#minimaler-request","title":"Minimaler Request","text":"<pre><code>{ \"titel\": \"Hallo Welt\" }\n</code></pre>"},{"location":"usage/parameters/#linkedin-post-mit-allen-feldern","title":"LinkedIn-Post mit allen Feldern","text":"<pre><code>{\n  \"titel\": \"NIS2 Compliance\",\n  \"text\": \"Umsetzung in der Praxis\",\n  \"hintergrund\": \"#1a1a2e\",\n  \"vordergrund\": \"white\",\n  \"breite\": 1920,\n  \"titelzeilen\": 2,\n  \"dateiname\": \"nis2-slide.png\"\n}\n</code></pre>"}]}